name: set_timer
handler: handlers.timer.set_timer
slots:
  - name: minutes
    type: int
    required: false
  - name: seconds
    type: int
    required: false

slot_hints:
  minutes:
    patterns:
      # 1. Строгий шаблон: Число + "мин/минут" (например: "5 минут", "5 мин")
      # (?i) флаг игнорирования регистра обычно ставится в коде Python, но можно добавить и тут для надежности
      - '(?P<minutes>\d+)\s*(?:м|мин|минут[а-я]*)'

      # 2. Шаблон "на X" (по умолчанию минуты), НО исключая случаи, когда дальше идет "сек"
      # (?!\s*(?:с|сек)) — это Negative Lookahead. Означает: "не должно быть 'с' или 'сек' после числа"
      - '(?:на|через)\s*(?P<minutes>\d+)\b(?!\s*(?:с|сек|секунд))'

  seconds:
    patterns:
      # 1. Строгий шаблон: Число + "сек/секунд" (например: "10 секунд", "10 с")
      - '(?P<seconds>\d+)\s*(?:с|сек|секунд[а-я]*)'

      # 2. Обратный порядок: "секунд на 10", "секунды 5"
      # Сначала слово "сек/секунд", потом (опционально "на"), потом число
      - '(?:с|сек|секунд[а-я]*)\s*(?:на)?\s*(?P<seconds>\d+)'